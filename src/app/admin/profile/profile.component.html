<div class="wrapper container">
    <div class="main">
        <main class="content">
            <div class="container-fluid p-0 mb-4">
                <h1 class="h3 mb-3">Profile</h1>
                <div class="row">
                    <div class="col-md-4 col-xl-3">
                        <div class="card mb-3">                           
                            <div class="card-body text-center pt-3">
                                <div class='user-img-div'>
                                    <img [src]='imageToShow' *ngIf='imageToShow' alt="Profile Image" class="img-fluid rounded-circle mb-2" width="128" height="128" />
                                    <img src='../../../assets/img/avatar2.png' *ngIf='!imageToShow' alt="Profile Image" class="img-fluid rounded-circle mb-2" width="128" height="128" />
                                    <input type="file" name='blog_image' class="form-control custom-file-input" id="blog-image" (change)='selectImage($event)' style='display:none;' />
                                    <div class='user-img-action-div' id='edit-icon'>
                                        <img src='assets/img/edit.png' class='user-img-action' (click)='triggerClick()' />
                                    </div>
                                    <div class='user-img-action-div' id='delete-icon'>
                                        <img src='assets/img/delete.png' class='user-img-action' />
                                    </div>
                                </div>
                                <h4 class="card-title mb-1 mt-0">{{userprofile.data[0].user_first_name}} {{userprofile.data[0].user_last_name}}</h4>
                                <div class="text-muted mb-2">{{userprofile.data[0].role_name}}</div>
                            </div>                         
                        </div>
                    </div>
                    <div class="col-md-8 col-xl-9">
                        <div class="card">
                            <div class="card-body h-100">
                                <h5 class='mb-3 card-header p-4'>Profile Details</h5>
                                <div class='row px-4'>
                                    <form  role="form" #f="ngForm" (ngSubmit)="f.form.valid && updateProfile($event)">
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_first_name'>First name<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='First Name' id='profile_first_name' name='profile_first_name' [value]='userprofile.data[0].user_first_name' [(ngModel)]="saveprofile.profile_first_name" #profile_first_name='ngModel' [ngClass]="{'invalid-data': profile_first_name.invalid && f.submitted, 'valid-data': profile_first_name.valid && f.submitted}" required />
                                            <div class="error_msg" *ngIf="f.submitted && profile_first_name.invalid">
                                                <div *ngIf="profile_first_name.errors.required">
                                                    <small class="error_text"> First Name is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_last_name'>Last name<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='Last Name' id='profile_last_name' name="profile_last_name" [value]='userprofile.data[0].user_last_name' [(ngModel)]="saveprofile.profile_last_name" #profile_last_name='ngModel' [ngClass]="{'invalid-data': profile_last_name.invalid && f.submitted, 'valid-data': profile_last_name.valid && f.submitted}" required/>
                                            <div class="error_msg" *ngIf="f.submitted && profile_last_name.invalid">
                                                <div *ngIf="profile_last_name.errors.required">
                                                    <small class="error_text"> Last Name is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_email_id'>Email ID</label>
                                            <input type='text' class='form-control' placeholder='Email ID' id='profile_email_id' name="profile_email_id" [value]='userprofile.data[0].user_email_id'readonly />
                                            <!-- [(ngModel)]="saveprofile.profile_email_id" #profile_email_id='ngModel'required  -->
                                            <!-- <div class="error_msg" *ngIf="profile_email_id.touched && profile_email_id.invalid">
                                                <div *ngIf="profile_email_id.errors.required">
                                                    <small class="error_text"> Email Id is required</small>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_contact_number'>Contact Number<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='Contact Number' id='profile_contact_number' [value]='userprofile.data[0].user_contact_number' [(ngModel)]="saveprofile.profile_contact_number" #profile_contact_number='ngModel' [ngClass]="{'invalid-data': profile_contact_number.invalid && f.submitted, 'valid-data': profile_contact_number.valid && f.submitted}"required />
                                            <div class="error_msg" *ngIf="f.submitted && profile_contact_number.invalid">
                                                <div *ngIf="profile_contact_number.errors.required">
                                                    <small class="error_text"> Contact Number is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-12'>
                                        <div class='form-group'>
                                            <label for='profile_address'>Address<span style="color: red;">*</span></label>
                                            <textarea type='text' class='form-control' id='profile_address' name="profile_address" placeholder='Address' rows='3' [value]='userprofile.data[0].user_address' [(ngModel)]="saveprofile.profile_address" #profile_address='ngModel' [ngClass]="{'invalid-data': profile_address.invalid && f.submitted, 'valid-data': profile_address.valid && f.submitted}"required></textarea>
                                            <div class="error_msg" *ngIf="f.submitted && profile_address.invalid">
                                                <div *ngIf="profile_address.errors.required">
                                                    <small class="error_text"> Address is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_pincode'>Pincode<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='Pincode' id='profile_pincode' name="profile_pincode" [value]='userprofile.data[0].user_pincode' [(ngModel)]="saveprofile.profile_pincode" #profile_pincode='ngModel' [ngClass]="{'invalid-data': profile_pincode.invalid && f.submitted, 'valid-data': profile_pincode.valid && f.submitted}" required />
                                            <div class="error_msg" *ngIf="f.submitted && profile_pincode.invalid">
                                                <div *ngIf="profile_pincode.errors.required">
                                                    <small class="error_text"> Pincode is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_city'>City<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='City' id='profile_city' name="profile_city" [value]='userprofile.data[0].user_city' [(ngModel)]="saveprofile.profile_city" #profile_city='ngModel' [ngClass]="{'invalid-data': profile_city.invalid && f.submitted, 'valid-data': profile_city.valid && f.submitted}" required />
                                            <div class="error_msg" *ngIf="f.submitted && profile_city.invalid">
                                                <div *ngIf="profile_city.errors.required">
                                                    <small class="error_text"> City is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_state'>State<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='State' id='profile_state' name="profile_state" [value]='userprofile.data[0].user_state' [(ngModel)]="saveprofile.profile_state" #profile_state='ngModel' [ngClass]="{'invalid-data': profile_state.invalid && f.submitted, 'valid-data': profile_state.valid && f.submitted}" required />
                                            <div class="error_msg" *ngIf="f.submitted && profile_state.invalid">
                                                <div *ngIf="profile_state.errors.required">
                                                    <small class="error_text"> State is required</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_role'>Your Role<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='Your Role' id='profile_role' name="profile_role" [value]='userprofile.data[0].role_name'readonly />
                                            <!--  [(ngModel)]="saveprofile.profile_role" #profile_role='ngModel' required  -->
                                            <!-- <div class="error_msg" *ngIf="profile_role.touched && profile_role.invalid">
                                                <div *ngIf="profile_role.errors.required">
                                                    <small class="error_text"> Last Name is required</small>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                    <div class='col-md-12 mt-3'>
                                        <div class='form-group clearfix'>
                                            <button id='update_profile' class="btn btn-primary btn-block float-right" style='width:max-content;'>Update Your Profile</button>
                                        </div>
                                    </div>
                                    </form>
                                </div>

                                <hr class='mb-0' />
                                <h5 class='mb-3 card-header p-4'>Change Password<span style="color: red;">*</span></h5>
                                <div class='row px-4'>
                                    <form  role="form" #g="ngForm" (ngSubmit)="g.form.valid && changepwd($event)">
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_current_password'>Current Password</label>
                                            <input type='text' class='form-control' placeholder='Enter your current Password' id='profile_current_password' name="profile_current_password" ngModel #profile_current_password='ngModel' [ngClass]="{'invalid-data': profile_current_password.invalid && g.submitted, 'valid-data': profile_current_password.valid && g.submitted}" required/>
                                            <div class="error_msg"
                                                  *ngIf="profile_current_password.invalid && g.submitted">
                                        <small class="error_text"> Current Password is required</small>
                                </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_new_password'>New Password<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='Enter your new Password' id='profile_new_password' name="profile_new_password" ngModel #profile_new_password='ngModel' [ngClass]="{'invalid-data': profile_new_password.invalid && g.submitted, 'valid-data': profile_new_password.valid && g.submitted}" required />
                                            <div class="error_msg"
                                            *ngIf="profile_new_password.invalid && g.submitted">
                                  <small class="error_text"> Current Password is required</small>
                          </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='profile_confirm_password'>Confirm New Password<span style="color: red;">*</span></label>
                                            <input type='text' class='form-control' placeholder='Confirm your new Password' id='profile_confirm_password' name="profile_confirm_password" ngModel #profile_confirm_password='ngModel' [ngClass]="{'invalid-data': profile_confirm_password.invalid && g.submitted, 'valid-data': profile_confirm_password.valid && g.submitted}" required/>
                                            <div class="error_msg"
                                            *ngIf="profile_confirm_password.invalid && g.submitted">
                                  <small class="error_text"> Current Password is required</small>
                          </div>
                                        </div>
                                    </div>
                                    <div class='col-md-6'>
                                        <div class='form-group'>
                                            <label for='reset_password'> &nbsp; </label>
                                            <!-- <a id='reset_password' class="btn btn-primary btn-block" style='width:max-content;'>Reset Password</a> -->
                                            <button id='reset' class="btn btn-primary btn-block" style='width:max-content;'>Reset Password</button>
                                        </div>
                                    </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>